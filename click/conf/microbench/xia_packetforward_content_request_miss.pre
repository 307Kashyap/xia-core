include ../xia_router_template.click
include packetforward_common.click
include xia_packetforward_common.click


gen :: InfiniteSource(LENGTH 100, ACTIVE false, HEADROOM 256)
-> Script(TYPE PACKET, write gen.active false)       // stop source after exactly 1 packet
-> XIAEncap(SRC RE UNROUTABLE_AD0, DST RE ( RANDOM_ID ) CID0,
            EXT_C_REQUEST true)
-> fwd :: XIAPacketForward;

Idle -> [1]fwd;

Script(write gen.active true);

